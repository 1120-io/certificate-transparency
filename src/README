1. To build the log server, you need OpenSSL >= 1.0.0.

To find out your system version of OpenSSL:

$ openssl version

If the system version of OpenSSL is appropriate, then you can simply:

$ make

Else you have to make a local version. To build a local version on
Linux, download and unpack OpenSSL source
(http://www.openssl.org/source/) and, in the openssl directory, run

$ ./config shared
$ make

2. You also need googletest, which you can get from here:
http://code.google.com/p/googletest/downloads/list.

Download, unpack and build. On any system this is likely to work on,
this should work:

$ cd make && make && make gtest.a

Our Makefiles are configured to work with this method, and may need
tweaking if you do something different.

Note that if you are on a BSD system "make" will appear to work, but
you'll get a link error. Use "gmake" instead.

3. You will also need protobuf, from:
http://code.google.com/p/protobuf/downloads/list.

(Tested with protobuf-2.4.1)

Again, download, unpack and build.

4. You will also need gflags and glog, from:
http://code.google.com/p/gflags/
and
http://code.google.com/p/google-glog/

(Tested with gflags-1.6, gflags-2.0 and glog 0.3.1 and 0.3.2)

Download, unpack, and follow the instructions to build and install.
Be sure to install gflags before building and installing glog to avoid link
errors later on.

5. And you will need a copy of sqlite3 installed on your system.

6. Then, you can build the log server by pointing to your custom OpenSSL
(if needed), protobuf and gtest:

$ make OPENSSLDIR=<path to openssl> PROTOBUFDIR=<path to protobuf> GTESTDIR=<path to gtest>

Once more, use gmake on BSD systems.

7. Finally, test:

$ make OPENSSLDIR=<path to openssl> PROTOBUFDIR=<path to protobuf> GTESTDIR=<path to gtest> test

8. If you want to test the authz extension in Apache, check out
OpenSSL 1.0.2 or higher and build that. You'll also need to install it
somewhere. Check out the head of Apache, and configure it like:

$ ./configure --enable-ssl --with-ssl=<path to your install>

9. To test the authz extension:

$ cd test
$ make APACHEDIR=<path to httpd> local-links

and run tests.

